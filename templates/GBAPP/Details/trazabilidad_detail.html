{% extends 'GBAPP/base.html' %}

{% block content %}

<!DOCTYPE html>
<html>
<head>
  <title>Two Rectangles with a Cut</title>
  <style>
    body {
      margin: 0;
      padding: 0;
    }

    .container2 {
      position: relative;
      width: 100%;
      height: 400px;
    }

    .rectangle {
      position: absolute;
      width: 50%;
      height: 100%;
      top: 0;
    }

    .rectangle-left {
      left: 0;
    }

    .rectangle-right {
      right: 0;
    }

    .cut {
      position: absolute;
      width: 4px; /* Adjust the width of the cut as needed */
      height: 100%;
      top: 0;
      left: 50%;
      background-color: #FFFFFF; /* Color of the cut */
      z-index: 1; /* Ensure the cut overlaps the rectangles */
    }
  </style>
  <script>
    $(document).ready(function() {
    $('#select1').change(function() {
        const selectedValue = $(this).val();
        $.ajax({
            url: '/get-trazabilidad-options/',
            type: 'GET',
            data: {
                selected_value: selectedValue
            },
            success: function(response) {
                const select2 = $('#select2');
                select2.empty();
                for (let i = 0; i < response.length; i++) {
                    const option = $('<option>').text(response[i].id).data('var-id', response[i].var_id);
                    select2.append(option);
                }
                select2.trigger('change');
            },
            error: function(xhr, status, error) {
                console.log('Error:', error);
            }
        });
    });

    $('#select2').change(function() {
        const selectedVarId = $(this).find(':selected').data('var-id');
        updateVariedadLabel(selectedVarId);
    });

     function updateVariedadLabel(varId) {
    const varLabel = $('#var');
    if (varId) {
      varLabel.val(varId);
    } else {
      varLabel.val(' ');
        }
    }
});
</script>
</head>
<body>
  <div class="container2" style="width: initial">
  {% csrf_token %}
    <div class="rectangle rectangle-left">
        <div class="form-group" style="width: 100%">
            <h5> Busqueda: </h5>
                <select id="select1" name="anali" class="form-control">
                <option disabled selected value></option>
                    {% for stat in busqueda %}
                        <option value="{{ stat }}" >{{ stat }}</option>
                    {% endfor %}
                </select>
        </div>
        <div class="form-group" style="width: 100%">
                <h5> Valor a buscar: </h5>
                <input type="text" id="bus" name="valorbus" class="form-control">
         </div>
        <div class="maxi" style="width: 100%">
            <h5 class="normal-Max"> Numero Orden: {{ adit.NumeroOrden }} </h5>
            <h5 class="normal-Max"> Varietal: {{ adit.PesaInicial.Cuartel.variedad.Nombre }} </h5>
            <h5 class="normal-Max"> Litros: {{ adit.LitrosOcupados }} Lts</h5>
            <h5 class="normal-Max"> Pileta actual: {{ adit.TanqueMa.NumTanque }}</h5>
        </div>
    </div>
    <div class="rectangle rectangle-right">

    </div>
    <div class="cut">

    </div>
  </div>
<div class="container2">
    <div class="rectangle rectangle-left">

    </div>
    <div class="rectangle rectangle-right">


    </div>
    <div class="cut"></div>
  </div>
</body>
</html>

{% endblock %}